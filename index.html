<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Vibe - A/B Demo</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #e2e8f0; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Smooth transition for vibe section */
        #vibeSection { transition: all 0.5s ease; }
        
        /* Glassmorphism utils */
        .glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.5); }
        
        /* Modal Animation */
        .modal-enter { opacity: 0; transform: scale(0.95); }
        .modal-enter-active { opacity: 1; transform: scale(1); transition: all 0.2s ease-out; }
        .modal-exit { opacity: 1; transform: scale(1); }
        .modal-exit-active { opacity: 0; transform: scale(0.95); transition: all 0.2s ease-in; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center py-10">

    <div class="fixed top-6 bg-slate-800 text-white px-6 py-3 rounded-full shadow-2xl z-50 flex items-center gap-4 border border-slate-600">
        <span class="text-xs font-bold uppercase tracking-widest text-slate-400">View Mode:</span>
        <div class="flex bg-slate-900 rounded-lg p-1">
            <button onclick="switchMode('traffic')" id="btnTraffic" class="px-4 py-1.5 rounded-md text-sm font-bold bg-indigo-500 text-white transition-all shadow-lg">
                Plan A (Traffic)
            </button>
            <button onclick="switchMode('time')" id="btnTime" class="px-4 py-1.5 rounded-md text-sm font-bold text-slate-400 hover:text-white transition-all">
                Plan B (Time)
            </button>
        </div>
    </div>

    <div class="w-full max-w-[400px] h-[850px] bg-slate-50 shadow-2xl rounded-[3rem] overflow-hidden relative border-8 border-slate-900 ring-4 ring-slate-200/50">
        
        <div class="px-6 py-4 flex justify-between items-center text-xs font-bold text-slate-900 z-10 sticky top-0 bg-slate-50/90 backdrop-blur-md">
            <span>9:41</span>
            <div class="flex gap-1.5 text-slate-800">
                <i class="fa-solid fa-signal"></i>
                <i class="fa-solid fa-wifi"></i>
                <i class="fa-solid fa-battery-full"></i>
            </div>
        </div>

        <header class="px-6 pb-2 pt-2 flex justify-between items-center bg-slate-50">
            <div>
                <p class="text-[10px] text-slate-400 font-bold uppercase tracking-widest mb-0.5">Family Vibe</p>
                <h1 class="text-2xl font-extrabold text-slate-800 tracking-tight">The Millers</h1>
            </div>
            <div class="h-10 w-10 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 shadow-sm border border-indigo-50">
                <i class="fa-solid fa-user-group"></i>
            </div>
        </header>

        <main class="px-5 pb-24 space-y-5 overflow-y-auto h-full no-scrollbar pt-2">

            <section id="vibeCard" class="bg-indigo-600 rounded-3xl p-5 text-white shadow-xl relative overflow-hidden transition-colors duration-500">
                <div class="absolute -top-10 -right-10 w-40 h-40 bg-white opacity-10 rounded-full blur-3xl"></div>
                <div class="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-black/20 to-transparent"></div>
                
                <div class="flex justify-between items-start mb-2 relative z-10">
                    <div>
                        <div class="flex items-center gap-2 mb-1">
                            <span id="vibeTagIcon" class="text-xs bg-white/20 px-2 py-0.5 rounded text-white font-bold">
                                <i class="fa-solid fa-chart-simple"></i> Traffic
                            </span>
                        </div>
                        <h2 id="vibeTitle" class="text-2xl font-bold tracking-tight">Cinema Paradise üé¨</h2>
                    </div>
                </div>

                <div class="flex items-center relative z-10 mt-2">
                    <div class="w-[160px] h-[160px] relative">
                        <canvas id="radarChart"></canvas>
                    </div>
                    
                    <div class="flex-1 pl-4 space-y-3" id="vibeStats">
                        </div>
                </div>
                
                <div id="vibeDesc" class="mt-4 text-xs text-indigo-100 bg-black/10 p-2 rounded-lg leading-relaxed">
                    High bandwidth detected on streaming services.
                </div>
            </section>

            <section class="bg-white rounded-3xl p-5 shadow-sm border border-slate-100">
                <div class="flex items-center gap-2 mb-4">
                    <span class="bg-amber-100 text-amber-600 w-6 h-6 flex items-center justify-center rounded-lg text-xs shadow-sm">
                        <i class="fa-solid fa-lightbulb"></i>
                    </span>
                    <h3 class="font-bold text-slate-800">Family Scoop</h3>
                </div>
                
                <div class="space-y-4">
                    <div class="flex gap-3 items-start">
                        <div class="mt-0.5 text-lg">üçø</div>
                        <div>
                            <p class="text-xs text-slate-600 leading-relaxed"><strong class="text-slate-800">Movie Night?</strong> Video traffic peaked at 8PM. Dad & Mom were sync-watching Netflix.</p>
                        </div>
                    </div>
                    <div class="flex gap-3 items-start">
                        <div class="mt-0.5 text-lg">üê¢</div>
                        <div>
                            <p class="text-xs text-slate-600 leading-relaxed"><strong class="text-slate-800">Slow Lane:</strong> Gaming downloads slowed down the network by 15% this afternoon.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section>
                <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 ml-2">Live Activity</h3>
                <div class="bg-white rounded-3xl p-1 shadow-sm border border-slate-100">
                    <div class="divide-y divide-slate-50">
                        <div class="p-4 flex items-start gap-3">
                            <div class="w-8 h-8 rounded-full bg-green-50 text-green-500 flex items-center justify-center shrink-0">
                                <i class="fa-solid fa-house-chimney"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between">
                                    <p class="text-sm font-bold text-slate-700">Dad is Home</p>
                                    <span class="text-[10px] text-slate-400 font-bold">Just now</span>
                                </div>
                                <p class="text-xs text-slate-500 mt-0.5">iPhone 15 Pro joined Wi-Fi</p>
                            </div>
                        </div>
                        
                        <div class="p-4 flex items-start gap-3">
                            <div class="w-8 h-8 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center shrink-0">
                                <i class="fa-brands fa-app-store-ios"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between">
                                    <p class="text-sm font-bold text-slate-700">Jack Downloading</p>
                                    <span class="text-[10px] text-slate-400 font-bold">2 mins ago</span>
                                </div>
                                <p class="text-xs text-slate-500 mt-0.5">High traffic on App Store (2.1 GB)</p>
                            </div>
                        </div>

                        <div class="p-4 flex items-start gap-3">
                            <div class="w-8 h-8 rounded-full bg-purple-50 text-purple-500 flex items-center justify-center shrink-0">
                                <i class="fa-solid fa-gamepad"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between">
                                    <p class="text-sm font-bold text-slate-700">Emma Gaming</p>
                                    <span class="text-[10px] text-slate-400 font-bold">45 mins</span>
                                </div>
                                <p class="text-xs text-slate-500 mt-0.5">Active on Roblox</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section>
                <div class="flex justify-between items-center mb-3 px-2">
                    <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wider">Achievements</h3>
                    <span class="text-[10px] bg-slate-200 text-slate-500 px-2 py-0.5 rounded-full font-bold">Last 7 Days</span>
                </div>
                
                <div class="grid grid-cols-2 gap-3">
                    <div onclick="openModal('Jack', 'Night Owl', 5)" class="bg-white p-4 rounded-2xl border border-slate-100 flex items-center gap-3 shadow-sm active:scale-95 transition cursor-pointer relative overflow-hidden group">
                        <div class="absolute right-2 top-2 text-slate-300 group-hover:text-slate-400"><i class="fa-solid fa-ellipsis"></i></div>
                        <div class="w-10 h-10 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center text-lg">ü¶â</div>
                        <div>
                            <div class="text-[10px] text-slate-400 font-bold uppercase">Night Owl</div>
                            <div class="text-sm font-bold text-slate-800">Jack</div>
                        </div>
                    </div>

                    <div onclick="openModal('Dad', 'Early Bird', 3)" class="bg-white p-4 rounded-2xl border border-slate-100 flex items-center gap-3 shadow-sm active:scale-95 transition cursor-pointer relative overflow-hidden group">
                         <div class="absolute right-2 top-2 text-slate-300 group-hover:text-slate-400"><i class="fa-solid fa-ellipsis"></i></div>
                        <div class="w-10 h-10 bg-orange-50 text-orange-500 rounded-full flex items-center justify-center text-lg">üåÖ</div>
                        <div>
                            <div class="text-[10px] text-slate-400 font-bold uppercase">Early Bird</div>
                            <div class="text-sm font-bold text-slate-800">Dad</div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="pb-6">
                <div class="bg-slate-800 rounded-3xl p-6 text-white shadow-xl relative overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-10 text-6xl"><i class="fa-solid fa-utensils"></i></div>
                    
                    <div class="relative z-10">
                        <div class="flex items-center gap-2 mb-2">
                            <h3 class="font-bold text-lg">Family Time</h3>
                        </div>
                        <p class="text-slate-300 text-sm mb-6">Pause internet for dinner or quality bonding.</p>
                        
                        <div class="flex -space-x-2 mb-6">
                            <img class="w-8 h-8 rounded-full border-2 border-slate-800 bg-slate-200" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Dad" alt=""/>
                            <img class="w-8 h-8 rounded-full border-2 border-slate-800 bg-slate-200" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Jack" alt=""/>
                            <img class="w-8 h-8 rounded-full border-2 border-slate-800 bg-slate-200" src="https://api.dicebear.com/7.x/avataaars/svg?seed=Emma" alt=""/>
                            <div class="w-8 h-8 rounded-full border-2 border-slate-800 bg-slate-700 text-xs flex items-center justify-center font-bold">+2</div>
                        </div>

                        <button class="w-full bg-indigo-500 hover:bg-indigo-400 text-white font-bold py-3.5 px-4 rounded-xl shadow-lg shadow-indigo-500/30 transition flex items-center justify-center gap-2">
                            Start Family Time <i class="fa-solid fa-pause"></i>
                        </button>
                    </div>
                </div>
            </section>

        </main>

        <nav class="absolute bottom-0 w-full h-[85px] bg-white border-t border-slate-100 flex justify-around items-start pt-5 px-6 text-slate-300 z-20">
            <div class="flex flex-col items-center gap-1 text-slate-800">
                <i class="fa-solid fa-house text-xl"></i>
                <span class="text-[10px] font-bold">Home</span>
            </div>
            <div class="flex flex-col items-center gap-1 hover:text-slate-500 transition">
                <i class="fa-solid fa-chart-pie text-xl"></i>
                <span class="text-[10px] font-bold">Insight</span>
            </div>
            <div class="flex flex-col items-center gap-1 hover:text-slate-500 transition">
                <i class="fa-solid fa-shield-halved text-xl"></i>
                <span class="text-[10px] font-bold">Protect</span>
            </div>
            <div class="flex flex-col items-center gap-1 hover:text-slate-500 transition">
                <i class="fa-solid fa-gear text-xl"></i>
                <span class="text-[10px] font-bold">Settings</span>
            </div>
        </nav>

        <div id="achievementModal" class="absolute inset-0 z-50 flex items-center justify-center px-4 pointer-events-none opacity-0 transition-opacity duration-200">
            <div class="absolute inset-0 bg-black/40 backdrop-blur-sm" onclick="closeModal()"></div>
            
            <div id="modalContent" class="bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl transform scale-95 transition-transform duration-200 relative pointer-events-auto">
                <button onclick="closeModal()" class="absolute top-4 right-4 text-slate-300 hover:text-slate-600">
                    <i class="fa-solid fa-xmark text-xl"></i>
                </button>
                
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center text-3xl mx-auto mb-3 shadow-sm border border-indigo-100">
                        <span id="modalIcon">ü¶â</span>
                    </div>
                    <h2 id="modalTitle" class="text-xl font-bold text-slate-800">Night Owl</h2>
                    <p id="modalUser" class="text-sm text-slate-500 font-medium">Jack</p>
                </div>

                <div class="bg-slate-50 rounded-2xl p-4 mb-4 border border-slate-100">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-xs font-bold text-slate-400 uppercase">Current Streak</span>
                        <span id="modalStreak" class="text-sm font-bold text-indigo-600">5 Days üî•</span>
                    </div>
                    <div class="w-full bg-slate-200 rounded-full h-2">
                        <div class="bg-indigo-500 h-2 rounded-full" style="width: 70%"></div>
                    </div>
                </div>

                <div class="space-y-3">
                    <div class="flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 transition">
                        <div class="text-xs font-bold text-slate-400 w-8">Mon</div>
                        <div class="flex-1 text-xs text-slate-600">Offline at 01:30 AM</div>
                        <i class="fa-solid fa-check text-green-500 text-xs"></i>
                    </div>
                    <div class="flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 transition">
                        <div class="text-xs font-bold text-slate-400 w-8">Tue</div>
                        <div class="flex-1 text-xs text-slate-600">Offline at 02:15 AM</div>
                        <i class="fa-solid fa-check text-green-500 text-xs"></i>
                    </div>
                     <div class="flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 transition">
                        <div class="text-xs font-bold text-slate-400 w-8">Wed</div>
                        <div class="flex-1 text-xs text-slate-600">Offline at 01:00 AM</div>
                        <i class="fa-solid fa-check text-green-500 text-xs"></i>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- DATA CONFIGURATION ---
        const CONFIG = {
            traffic: {
                title: "Cinema Paradise üé¨",
                bg: "bg-indigo-600",
                desc: "High bandwidth usage on Video & Downloads.",
                tagIcon: '<i class="fa-solid fa-cloud-arrow-down"></i> Traffic',
                chartData: [80, 40, 10, 5, 5, 60], // Video, Game, Social, Work, Edu, Download
                stats: [
                    { label: "Video", val: "80%", color: "text-white" },
                    { label: "Download", val: "60%", color: "text-indigo-200" },
                    { label: "Gaming", val: "40%", color: "text-indigo-200" }
                ]
            },
            time: {
                title: "Social Buzz üí¨",
                bg: "bg-pink-600",
                desc: "Long screen time on Social Media & Chat Apps.",
                tagIcon: '<i class="fa-regular fa-clock"></i> Duration',
                chartData: [20, 30, 90, 20, 10, 5], // Video, Game, Social, Work, Edu, Download
                stats: [
                    { label: "Social", val: "6h 20m", color: "text-white" },
                    { label: "Gaming", val: "2h 10m", color: "text-pink-200" },
                    { label: "Video", val: "1h 30m", color: "text-pink-200" }
                ]
            }
        };

        // --- CHART SETUP ---
        const ctx = document.getElementById('radarChart').getContext('2d');
        let myRadarChart = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['Video', 'Game', 'Social', 'Work', 'Edu', 'Down'],
                datasets: [{
                    data: CONFIG.traffic.chartData,
                    backgroundColor: 'rgba(255, 255, 255, 0.2)',
                    borderColor: 'rgba(255, 255, 255, 0.9)',
                    pointBackgroundColor: 'rgba(255, 255, 255, 1)',
                    pointBorderColor: '#fff',
                    borderWidth: 2,
                    pointRadius: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: { color: 'rgba(255, 255, 255, 0.1)' },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        pointLabels: { color: 'rgba(255, 255, 255, 0.8)', font: { size: 9, weight: 'bold' } },
                        ticks: { display: false, maxTicksLimit: 1 },
                        suggestedMin: 0,
                        suggestedMax: 100
                    }
                },
                plugins: { legend: { display: false } }
            }
        });

        // --- RENDER FUNCTION ---
        function renderStats(stats) {
            const container = document.getElementById('vibeStats');
            container.innerHTML = stats.map(s => `
                <div class="flex justify-between items-center text-xs border-b border-white/20 pb-1.5 last:border-0">
                    <span class="${s.color} opacity-80">${s.label}</span>
                    <span class="font-bold text-white">${s.val}</span>
                </div>
            `).join('');
        }

        // --- SWITCH MODE FUNCTION ---
        function switchMode(mode) {
            const data = CONFIG[mode];
            const card = document.getElementById('vibeCard');
            const btnTraffic = document.getElementById('btnTraffic');
            const btnTime = document.getElementById('btnTime');

            // 1. Update Buttons State
            if (mode === 'traffic') {
                btnTraffic.className = "px-4 py-1.5 rounded-md text-sm font-bold bg-indigo-500 text-white transition-all shadow-lg";
                btnTime.className = "px-4 py-1.5 rounded-md text-sm font-bold text-slate-400 hover:text-white transition-all";
                card.className = "bg-indigo-600 rounded-3xl p-5 text-white shadow-xl relative overflow-hidden transition-colors duration-500";
            } else {
                btnTraffic.className = "px-4 py-1.5 rounded-md text-sm font-bold text-slate-400 hover:text-white transition-all";
                btnTime.className = "px-4 py-1.5 rounded-md text-sm font-bold bg-pink-500 text-white transition-all shadow-lg";
                card.className = "bg-pink-600 rounded-3xl p-5 text-white shadow-xl relative overflow-hidden transition-colors duration-500";
            }

            // 2. Update Text Content
            document.getElementById('vibeTitle').innerText = data.title;
            document.getElementById('vibeDesc').innerText = data.desc;
            document.getElementById('vibeTagIcon').innerHTML = data.tagIcon;

            // 3. Update Chart
            myRadarChart.data.datasets[0].data = data.chartData;
            myRadarChart.update();

            // 4. Update Stats List
            renderStats(data.stats);
        }

        // --- MODAL FUNCTIONS ---
        function openModal(user, title, streak) {
            const modal = document.getElementById('achievementModal');
            const content = document.getElementById('modalContent');
            
            // Set Content
            document.getElementById('modalUser').innerText = user;
            document.getElementById('modalTitle').innerText = title;
            document.getElementById('modalStreak').innerText = streak + " Days üî•";
            document.getElementById('modalIcon').innerText = title === 'Night Owl' ? 'ü¶â' : 'üåÖ';

            // Show
            modal.classList.remove('pointer-events-none', 'opacity-0');
            content.classList.remove('scale-95');
            content.classList.add('scale-100');
        }

        function closeModal() {
            const modal = document.getElementById('achievementModal');
            const content = document.getElementById('modalContent');
            
            // Hide
            modal.classList.add('pointer-events-none', 'opacity-0');
            content.classList.remove('scale-100');
            content.classList.add('scale-95');
        }

        // Initialize Default View
        renderStats(CONFIG.traffic.stats);

    </script>
</body>
</html>
