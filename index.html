<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Deco Family Insight 2.0</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f1f5f9; color: #334155; }
        /* Custom Utilities */
        .card { background: white; border-radius: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); border: 1px solid #e2e8f0; overflow: hidden; }
        .gradient-text { background: linear-gradient(135deg, #0f172a, #334155); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .bar-segment { height: 100%; transition: width 1s ease-in-out; }
        
        /* Animation */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-enter { animation: fadeIn 0.5s ease-out forwards; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Icons (SVG) ---
        const Icons = {
            Wifi: <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line></svg>,
            Home: <svg width="16" height="16" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>,
            Download: <svg width="16" height="16" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>,
            Clock: <svg width="16" height="16" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>,
            Zap: <svg width="16" height="16" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>,
            Refresh: <svg width="14" height="14" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>,
            Moon: <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>,
            Sun: <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>,
            Database: <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s 9-1.34 9-3V5"></path></svg>,
            ArrowRight: <svg width="16" height="16" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
        };

        // --- Mock Data ---
        const DATA = {
            habitat: {
                title: "Cinema Paradise", // 或者是 "E-Sports Camp", "Digital Detox"
                totalTraffic: "42.5 GB",
                aiStory: "Looks like a movie marathon day! Video streaming accounted for 65% of today's traffic, mostly from the Living Room TV and Mom's iPad. Kevin contributed a spike of gaming traffic in the afternoon.",
                topContributors: [
                    { name: "Kevin", total: 18.2, video: 30, game: 60, other: 10, avatar: "https://api.dicebear.com/9.x/avataaars/svg?seed=Kevin" },
                    { name: "Mom", total: 12.5, video: 80, game: 0, other: 20, avatar: "https://api.dicebear.com/9.x/avataaars/svg?seed=Molly" },
                    { name: "Dad", total: 8.4, video: 20, game: 10, other: 70, avatar: "https://api.dicebear.com/9.x/avataaars/svg?seed=Arthur" },
                ]
            },
            activities: [
                { time: "18:30", user: "Dad", type: "Home", text: "Dad's device is online (Home)", iconColor: "text-green-600", bgColor: "bg-green-50" },
                { time: "16:45", user: "Kevin", type: "Game", text: "Playing 'Valorant' for > 2 hours", iconColor: "text-purple-600", bgColor: "bg-purple-50" },
                { time: "14:20", user: "Living Room", type: "Download", text: "High traffic spike detected (40MB/s)", iconColor: "text-blue-600", bgColor: "bg-blue-50" },
                { time: "08:10", user: "Timmy", type: "Wifi", text: "Timmy's iPad joined the network", iconColor: "text-slate-600", bgColor: "bg-slate-50" },
            ],
            comparison: {
                userA: { name: "Dad", avatar: "https://api.dicebear.com/9.x/avataaars/svg?seed=Arthur" },
                userB: { name: "Kevin", avatar: "https://api.dicebear.com/9.x/avataaars/svg?seed=Kevin" },
                score: 42,
                label: "Diverse Interests",
                analysis: "Dad focuses on News/Work in the morning, while Kevin is active with Gaming late at night. Low overlap."
            },
            awards: [
                { title: "Early Bird", user: "Dad", time: "06:15 AM", icon: Icons.Sun, color: "text-amber-500", bg: "bg-amber-50" },
                { title: "Night Owl", user: "Kevin", time: "01:30 AM", icon: Icons.Moon, color: "text-indigo-500", bg: "bg-indigo-50" },
                { title: "Data Hoarder", user: "Kevin", value: "18 GB", icon: Icons.Database, color: "text-rose-500", bg: "bg-rose-50" }
            ]
        };

        // --- Components ---

        // 1. Digital Habitat (Family State + Top 3 Chart + Story)
        const DigitalHabitat = () => (
            <div className="card p-6 mb-6">
                <div className="flex justify-between items-start mb-6">
                    <div>
                        <div className="text-xs font-bold text-slate-400 uppercase tracking-wider mb-1">Digital Habitat</div>
                        <h2 className="text-2xl font-bold text-slate-800 flex items-center gap-2">
                            {DATA.habitat.title}
                        </h2>
                    </div>
                    <div className="text-right">
                         <div className="text-2xl font-bold text-slate-700">{DATA.habitat.totalTraffic}</div>
                         <div className="text-[10px] text-slate-400 font-bold uppercase">Total Volume</div>
                    </div>
                </div>

                {/* AI Story */}
                <div className="bg-slate-50 p-4 rounded-xl border border-slate-100 mb-6 relative">
                    <div className="absolute top-4 left-4 text-slate-300">
                        <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M14.017 21L14.017 18C14.017 16.8954 14.9124 16 16.017 16H19.017C19.5693 16 20.017 15.5523 20.017 15V9C20.017 8.44772 19.5693 8 19.017 8H15.017C14.4647 8 14.017 8.44772 14.017 9V11C14.017 11.5523 13.5693 12 13.017 12H12.017V5H22.017V15C22.017 16.6569 20.6739 18 19.017 18H16.017C15.4647 18 15.017 18.4477 15.017 19V21L14.017 21ZM5.0166 21L5.0166 18C5.0166 16.8954 5.91203 16 7.0166 16H10.0166C10.5689 16 11.0166 15.5523 11.0166 15V9C11.0166 8.44772 10.5689 8 10.0166 8H6.0166C5.46432 8 5.0166 8.44772 5.0166 9V11C5.0166 11.5523 4.56889 12 4.0166 12H3.0166V5H13.0166V15C13.0166 16.6569 11.6735 18 10.0166 18H7.0166C6.46432 18 6.0166 18.4477 6.0166 19V21L5.0166 21Z" /></svg>
                    </div>
                    <p className="text-sm text-slate-600 italic pl-8 leading-relaxed">
                        {DATA.habitat.aiStory}
                        <span className="block mt-2 text-xs text-slate-400 font-medium not-italic">- AI Summary</span>
                    </p>
                </div>

                {/* Top 3 Chart */}
                <div className="space-y-4">
                    <div className="text-xs font-bold text-slate-400 uppercase tracking-wide">Top Contributors</div>
                    {DATA.habitat.topContributors.map((user, idx) => (
                        <div key={idx} className="flex items-center gap-3">
                            <img src={user.avatar} className="w-8 h-8 rounded-full bg-slate-100" />
                            <div className="flex-1">
                                <div className="flex justify-between text-xs mb-1">
                                    <span className="font-bold text-slate-700">{user.name}</span>
                                    <span className="text-slate-500">{user.total} GB</span>
                                </div>
                                <div className="h-2 w-full bg-slate-100 rounded-full overflow-hidden flex">
                                    <div style={{width: `${user.video}%`}} className="h-full bg-amber-400" title="Video"></div>
                                    <div style={{width: `${user.game}%`}} className="h-full bg-rose-400" title="Game"></div>
                                    <div style={{width: `${user.other}%`}} className="h-full bg-slate-400" title="Other"></div>
                                </div>
                            </div>
                        </div>
                    ))}
                    <div className="flex gap-4 justify-end mt-2">
                        <div className="flex items-center gap-1 text-[10px] text-slate-400"><div className="w-2 h-2 rounded-full bg-amber-400"></div> Video</div>
                        <div className="flex items-center gap-1 text-[10px] text-slate-400"><div className="w-2 h-2 rounded-full bg-rose-400"></div> Game</div>
                        <div className="flex items-center gap-1 text-[10px] text-slate-400"><div className="w-2 h-2 rounded-full bg-slate-400"></div> Other</div>
                    </div>
                </div>
            </div>
        );

        // 2. Family Activity Stream
        const ActivityStream = () => (
            <div className="card p-6 mb-6">
                <div className="flex items-center gap-2 mb-6">
                    <span className="p-1.5 bg-blue-100 text-blue-600 rounded-lg">{Icons.Zap}</span>
                    <h3 className="font-bold text-slate-800">Family Activity</h3>
                </div>
                <div className="relative pl-2">
                    {/* Vertical Line */}
                    <div className="absolute left-[19px] top-2 bottom-4 w-[1px] bg-slate-200"></div>
                    
                    <div className="space-y-6">
                        {DATA.activities.map((act, idx) => {
                            let icon = Icons.Wifi;
                            if (act.type === 'Home') icon = Icons.Home;
                            if (act.type === 'Download') icon = Icons.Download;
                            if (act.type === 'Game') icon = Icons.Zap;

                            return (
                                <div key={idx} className="relative flex items-start gap-4 z-10">
                                    <div className={`w-10 h-10 rounded-full flex items-center justify-center shrink-0 border-4 border-white shadow-sm ${act.bgColor} ${act.iconColor}`}>
                                        {icon}
                                    </div>
                                    <div className="pt-1">
                                        <div className="text-xs font-mono text-slate-400 font-medium mb-0.5">{act.time} • {act.user}</div>
                                        <div className="text-sm font-semibold text-slate-700">{act.text}</div>
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                </div>
            </div>
        );

        // 3. Digital Resonance (Comparison)
        const Comparison = () => (
            <div className="card p-6 mb-6">
                <div className="flex justify-between items-center mb-6">
                    <h3 className="font-bold text-slate-800">Digital Resonance</h3>
                    <button className="text-xs flex items-center gap-1 text-slate-400 hover:text-blue-600 transition">
                        {Icons.Refresh} Shuffle
                    </button>
                </div>
                
                <div className="bg-gradient-to-br from-slate-50 to-white rounded-xl border border-slate-100 p-6 flex flex-col items-center">
                    <div className="flex items-center justify-between w-full mb-4 px-4">
                        <div className="flex flex-col items-center gap-2">
                            <img src={DATA.comparison.userA.avatar} className="w-14 h-14 rounded-full bg-white shadow-md border-2 border-white" />
                            <span className="text-xs font-bold text-slate-600">{DATA.comparison.userA.name}</span>
                        </div>
                        
                        <div className="flex flex-col items-center">
                            <div className="text-3xl font-black text-slate-800">{DATA.comparison.score}%</div>
                            <div className="text-[10px] uppercase font-bold text-slate-400 tracking-widest">Similarity</div>
                        </div>

                        <div className="flex flex-col items-center gap-2">
                            <img src={DATA.comparison.userB.avatar} className="w-14 h-14 rounded-full bg-white shadow-md border-2 border-white" />
                            <span className="text-xs font-bold text-slate-600">{DATA.comparison.userB.name}</span>
                        </div>
                    </div>
                    
                    <div className="w-full bg-slate-200 h-1.5 rounded-full mb-4 overflow-hidden">
                        <div style={{width: `${DATA.comparison.score}%`}} className={`h-full ${DATA.comparison.score > 70 ? 'bg-green-500' : 'bg-slate-400'}`}></div>
                    </div>

                    <div className="text-center">
                        <span className="inline-block px-2 py-1 bg-slate-200 text-slate-600 text-[10px] font-bold uppercase rounded mb-2">
                            {DATA.comparison.label}
                        </span>
                        <p className="text-xs text-slate-500 leading-relaxed">
                            {DATA.comparison.analysis}
                        </p>
                    </div>
                </div>
            </div>
        );

        // 4. The Daily Arena (Awards)
        const Arena = () => (
            <div className="grid grid-cols-3 gap-3 mb-6">
                {DATA.awards.map((award, idx) => (
                    <div key={idx} className={`card p-3 flex flex-col items-center text-center hover:-translate-y-1 transition-transform duration-300`}>
                        <div className={`w-8 h-8 rounded-full flex items-center justify-center mb-2 ${award.bg} ${award.color}`}>
                            {award.icon}
                        </div>
                        <div className="text-[10px] font-bold text-slate-400 uppercase mb-0.5">{award.title}</div>
                        <div className="text-sm font-bold text-slate-700">{award.user}</div>
                        <div className="text-[10px] text-slate-500">{award.time || award.value}</div>
                    </div>
                ))}
            </div>
        );

        const App = () => {
            return (
                <div className="max-w-md mx-auto min-h-screen pb-12 animate-enter">
                    {/* Header */}
                    <div className="pt-8 pb-6 px-4">
                        <div className="flex items-center gap-2">
                            <div className="w-8 h-8 bg-slate-800 rounded-lg flex items-center justify-center text-white font-bold text-lg">D</div>
                            <span className="font-bold text-xl text-slate-800 tracking-tight">Family <span className="text-slate-400 font-normal">Insight</span></span>
                        </div>
                    </div>

                    <div className="px-4">
                        <DigitalHabitat />
                        <ActivityStream />
                        <Comparison />
                        
                        <div className="flex items-center gap-2 mb-3">
                             <span className="p-1 bg-amber-100 text-amber-600 rounded">{Icons.Zap}</span>
                             <h3 className="font-bold text-slate-800 text-sm uppercase tracking-wide">Daily Arena</h3>
                        </div>
                        <Arena />
                    </div>
                    
                    <div className="text-center text-xs text-slate-400 mt-8">
                        Deco AI Engine • Privacy Protected
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
