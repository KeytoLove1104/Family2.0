<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Insight - A/B Demo</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #e2e8f0; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Glassmorphism utils */
        .glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); }
        .glass-dark { background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(10px); }
        
        /* Animation */
        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen py-10 relative">

    <div class="fixed top-6 left-6 z-50 bg-white p-4 rounded-xl shadow-xl border border-slate-200 w-64">
        <h3 class="text-sm font-bold text-slate-400 uppercase mb-3">Leader View Control</h3>
        <div class="space-y-2">
            <button onclick="switchMode('A')" id="btnA" class="w-full py-2 px-4 rounded-lg text-sm font-bold transition-all bg-indigo-600 text-white shadow-md">
                Plan A: Traffic View (ÊµÅÈáè)
            </button>
            <button onclick="switchMode('B')" id="btnB" class="w-full py-2 px-4 rounded-lg text-sm font-bold transition-all bg-white text-slate-600 border border-slate-200 hover:bg-slate-50">
                Plan B: Time View (Êó∂Èïø)
            </button>
        </div>
        <p class="text-[10px] text-slate-400 mt-3 leading-tight">
            * Toggles Section 1 Chart & Data.<br>
            * Sections 2-6 remain static.
        </p>
    </div>
    <div class="w-full max-w-[400px] bg-slate-50 h-[850px] rounded-[40px] shadow-2xl overflow-hidden border-[8px] border-slate-900 relative flex flex-col">
        
        <div class="px-6 pt-4 pb-2 flex justify-between items-center text-xs font-bold text-slate-900 z-10 bg-slate-50">
            <span>9:41</span>
            <div class="flex gap-1.5">
                <i class="fa-solid fa-signal"></i>
                <i class="fa-solid fa-wifi"></i>
                <i class="fa-solid fa-battery-full"></i>
            </div>
        </div>

        <header class="px-6 py-2 pb-4 bg-slate-50 flex justify-between items-center shrink-0">
            <div>
                <div class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">Family Insight</div>
                <h1 class="text-2xl font-extrabold text-slate-800 tracking-tight">The Millers</h1>
            </div>
            <div class="w-10 h-10 rounded-full bg-slate-200 overflow-hidden border-2 border-white shadow-sm">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Admin" alt="Admin">
            </div>
        </header>

        <main class="flex-1 overflow-y-auto hide-scrollbar px-5 pb-8 space-y-6">

            <section id="section1" class="relative rounded-3xl p-5 text-white shadow-lg overflow-hidden transition-all duration-500 bg-gradient-to-br from-indigo-600 to-purple-700">
                <div class="absolute -top-10 -right-10 w-40 h-40 bg-white opacity-10 rounded-full blur-3xl"></div>
                
                <div class="relative z-10">
                    <div class="flex justify-between items-start mb-1">
                        <div>
                            <p class="text-indigo-200 text-xs font-bold uppercase tracking-wider">Section 1: The Digital Vibe</p>
                            <h2 id="vibeTitle" class="text-xl font-bold">Bandwidth Hogs üåä</h2>
                        </div>
                        <span id="vibeBadge" class="bg-white/20 backdrop-blur-md px-2 py-1 rounded text-[10px] font-bold border border-white/10">Traffic Analysis</span>
                    </div>

                    <div class="flex items-center mt-2">
                        <div class="w-[180px] h-[180px] relative -ml-2">
                            <canvas id="radarChart"></canvas>
                        </div>
                        
                        <div class="flex-1 pl-2 space-y-3">
                            <div class="group">
                                <div class="flex justify-between text-xs text-indigo-100 mb-0.5">
                                    <span id="label1">Download</span>
                                    <span id="val1" class="font-bold text-white">45 GB</span>
                                </div>
                                <div class="w-full bg-black/20 h-1.5 rounded-full overflow-hidden">
                                    <div id="bar1" class="h-full bg-pink-400 rounded-full" style="width: 90%"></div>
                                </div>
                            </div>
                            <div class="group">
                                <div class="flex justify-between text-xs text-indigo-100 mb-0.5">
                                    <span id="label2">Video</span>
                                    <span id="val2" class="font-bold text-white">30 GB</span>
                                </div>
                                <div class="w-full bg-black/20 h-1.5 rounded-full overflow-hidden">
                                    <div id="bar2" class="h-full bg-amber-400 rounded-full" style="width: 60%"></div>
                                </div>
                            </div>
                            <div class="group">
                                <div class="flex justify-between text-xs text-indigo-100 mb-0.5">
                                    <span id="label3">Game</span>
                                    <span id="val3" class="font-bold text-white">5 GB</span>
                                </div>
                                <div class="w-full bg-black/20 h-1.5 rounded-full overflow-hidden">
                                    <div id="bar3" class="h-full bg-cyan-400 rounded-full" style="width: 15%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="bg-white rounded-3xl p-5 shadow-sm border border-slate-100">
                <div class="flex items-center gap-2 mb-4 border-b border-slate-100 pb-2">
                    <span class="bg-orange-100 text-orange-600 p-1.5 rounded-lg text-xs"><i class="fa-solid fa-newspaper"></i></span>
                    <h3 class="font-bold text-slate-800 text-sm uppercase">Section 2: Miller's Scoop</h3>
                </div>
                <div class="space-y-4">
                    <div class="flex gap-3 items-start">
                        <span class="text-lg mt-0.5">üåÖ</span>
                        <div class="text-xs text-slate-600 leading-relaxed">
                            <strong class="text-slate-900 block mb-0.5">Morning Glory</strong>
                            Tom checked Twitter at 6:35 AM before even getting out of bed!
                        </div>
                    </div>
                    <div class="flex gap-3 items-start">
                        <span class="text-lg mt-0.5">üöÄ</span>
                        <div class="text-xs text-slate-600 leading-relaxed">
                            <strong class="text-slate-900 block mb-0.5">Bandwidth Hog</strong>
                            Congrats to Jack! His 4PM Steam update (2.5GB) made the living room Alexa stutter.
                        </div>
                    </div>
                    <div class="flex gap-3 items-start">
                        <span class="text-lg mt-0.5">‚öñÔ∏è</span>
                        <div class="text-xs text-slate-600 leading-relaxed">
                            <strong class="text-slate-900 block mb-0.5">Work vs Play</strong>
                            Dad is grinding on Docs at 10 PM, but Emma is still on Roblox...
                        </div>
                    </div>
                </div>
            </section>

            <section class="bg-white rounded-3xl p-5 shadow-sm border border-slate-100">
                <div class="flex items-center gap-2 mb-4">
                    <span class="bg-green-100 text-green-600 p-1.5 rounded-lg text-xs"><i class="fa-solid fa-bolt"></i></span>
                    <h3 class="font-bold text-slate-800 text-sm uppercase">Section 3: Live Activity</h3>
                </div>
                <div class="relative pl-4 border-l-2 border-slate-100 space-y-5">
                    <div class="relative">
                        <div class="absolute -left-[21px] top-0 h-3 w-3 rounded-full bg-blue-500 border-2 border-white shadow"></div>
                        <div class="flex justify-between items-start">
                            <p class="text-xs font-bold text-slate-700">Dad's iPhone connected to Wi-Fi</p>
                            <span class="text-[10px] text-slate-400 font-mono">18:30</span>
                        </div>
                    </div>
                    <div class="relative">
                        <div class="absolute -left-[21px] top-0 h-3 w-3 rounded-full bg-purple-500 border-2 border-white shadow"></div>
                        <div class="flex justify-between items-start">
                            <p class="text-xs font-bold text-slate-700">Jack's PC hit peak (50MB/s)</p>
                            <span class="text-[10px] text-slate-400 font-mono">16:45</span>
                        </div>
                        <p class="text-[10px] text-slate-400 mt-0.5">Steam Download Detected</p>
                    </div>
                    <div class="relative">
                        <div class="absolute -left-[21px] top-0 h-3 w-3 rounded-full bg-pink-500 border-2 border-white shadow"></div>
                        <div class="flex justify-between items-start">
                            <p class="text-xs font-bold text-slate-700">Emma on Roblox for 2 hours</p>
                            <span class="text-[10px] text-slate-400 font-mono">15:00</span>
                        </div>
                    </div>
                </div>
            </section>

            <section class="bg-gradient-to-r from-slate-800 to-slate-900 rounded-3xl p-5 text-white shadow-lg">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-bold text-sm uppercase text-slate-400">Section 4: Digital Sync</h3>
                    <i class="fa-regular fa-heart text-pink-500"></i>
                </div>

                <div class="bg-white/5 rounded-xl p-3 mb-3 border border-white/10">
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex -space-x-2">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Admin" class="w-8 h-8 rounded-full bg-slate-200 border-2 border-slate-800">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Jack" class="w-8 h-8 rounded-full bg-slate-200 border-2 border-slate-800">
                        </div>
                        <span class="text-xl font-bold text-slate-400">10%</span>
                    </div>
                    <div class="w-full bg-slate-700 h-1.5 rounded-full mb-2 overflow-hidden">
                        <div class="bg-slate-500 h-full rounded-full" style="width: 10%"></div>
                    </div>
                    <p class="text-[10px] text-slate-300 leading-tight">
                        You work while he's at school. You rest while he games. <span class="text-slate-500 italic">No overlap.</span>
                    </p>
                </div>

                <div class="bg-white/10 rounded-xl p-3 border border-white/20 relative overflow-hidden">
                    <div class="absolute right-0 top-0 w-16 h-16 bg-pink-500 blur-2xl opacity-20"></div>
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex -space-x-2">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Admin" class="w-8 h-8 rounded-full bg-slate-200 border-2 border-slate-800">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Molly" class="w-8 h-8 rounded-full bg-slate-200 border-2 border-slate-800">
                        </div>
                        <span class="text-xl font-bold text-pink-400">85%</span>
                    </div>
                    <div class="w-full bg-slate-700 h-1.5 rounded-full mb-2 overflow-hidden">
                        <div class="bg-gradient-to-r from-pink-500 to-purple-500 h-full rounded-full" style="width: 85%"></div>
                    </div>
                    <p class="text-[10px] text-slate-200 leading-tight">
                        High Sync! Your evening streaming schedules align perfectly.
                    </p>
                </div>
            </section>

            <section>
                <h3 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-3 ml-1">Section 5: Daily Awards</h3>
                <div class="grid grid-cols-2 gap-3">
                    <div onclick="showBadgeDetails('Early Bird', 'Mom', 'Online at 5:30 AM for Yoga.', 3)" class="bg-white p-4 rounded-2xl border border-slate-100 flex flex-col items-center text-center shadow-sm active:scale-95 transition cursor-pointer">
                        <div class="w-10 h-10 bg-amber-50 text-amber-500 rounded-full flex items-center justify-center mb-2 text-lg shadow-sm border border-amber-100">üåÖ</div>
                        <span class="text-[10px] text-slate-400 font-bold uppercase">Early Bird</span>
                        <span class="text-sm font-bold text-slate-800">Mom</span>
                    </div>
                    <div onclick="showBadgeDetails('Night Owl', 'Kevin', 'Last offline: 02:45 AM.', 5)" class="bg-white p-4 rounded-2xl border border-slate-100 flex flex-col items-center text-center shadow-sm active:scale-95 transition cursor-pointer">
                        <div class="w-10 h-10 bg-indigo-50 text-indigo-500 rounded-full flex items-center justify-center mb-2 text-lg shadow-sm border border-indigo-100">ü¶â</div>
                        <span class="text-[10px] text-slate-400 font-bold uppercase">Night Owl</span>
                        <span class="text-sm font-bold text-slate-800">Kevin</span>
                    </div>
                    <div onclick="showBadgeDetails('Data Monster', 'Jack', 'Consumed 42GB today.', 2)" class="bg-white p-4 rounded-2xl border border-slate-100 flex flex-col items-center text-center shadow-sm active:scale-95 transition cursor-pointer">
                        <div class="w-10 h-10 bg-rose-50 text-rose-500 rounded-full flex items-center justify-center mb-2 text-lg shadow-sm border border-rose-100">ü¶ñ</div>
                        <span class="text-[10px] text-slate-400 font-bold uppercase">Data Monster</span>
                        <span class="text-sm font-bold text-slate-800">Jack</span>
                    </div>
                    <div onclick="showBadgeDetails('Focus Master', 'Dad', '6h of Office Apps.', 10)" class="bg-white p-4 rounded-2xl border border-slate-100 flex flex-col items-center text-center shadow-sm active:scale-95 transition cursor-pointer">
                        <div class="w-10 h-10 bg-blue-50 text-blue-500 rounded-full flex items-center justify-center mb-2 text-lg shadow-sm border border-blue-100">üßò</div>
                        <span class="text-[10px] text-slate-400 font-bold uppercase">Focus Master</span>
                        <span class="text-sm font-bold text-slate-800">Dad</span>
                    </div>
                </div>
            </section>

            <section class="bg-slate-200 rounded-3xl p-5 mb-10">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-bold text-slate-700 uppercase text-xs">Section 6: Family Time</h3>
                    <i class="fa-solid fa-utensils text-slate-400"></i>
                </div>
                
                <div class="bg-white rounded-xl p-4 shadow-sm">
                    <p class="text-xs text-slate-500 mb-4">Select devices to pause internet for dinner time:</p>
                    
                    <div class="space-y-3 mb-4">
                        <label class="flex items-center gap-3 cursor-pointer">
                            <input type="checkbox" checked class="w-4 h-4 accent-slate-800 rounded">
                            <span class="text-sm font-bold text-slate-700">Jack's PC</span>
                        </label>
                        <label class="flex items-center gap-3 cursor-pointer">
                            <input type="checkbox" checked class="w-4 h-4 accent-slate-800 rounded">
                            <span class="text-sm font-bold text-slate-700">Emma's iPad</span>
                        </label>
                        <label class="flex items-center gap-3 cursor-pointer">
                            <input type="checkbox" class="w-4 h-4 accent-slate-800 rounded">
                            <span class="text-sm font-bold text-slate-700">Dad's Laptop</span>
                        </label>
                    </div>

                    <button onclick="toggleDetox(this)" class="w-full py-3 bg-slate-800 text-white rounded-lg font-bold text-sm hover:bg-slate-700 transition active:scale-95 flex items-center justify-center gap-2">
                        <span>Pause Internet</span>
                        <i class="fa-solid fa-pause"></i>
                    </button>
                </div>
            </section>

        </main>
        
        <nav class="h-20 bg-white border-t border-slate-100 flex justify-around items-center pb-2 shrink-0 z-20">
            <div class="flex flex-col items-center gap-1 text-slate-400">
                <i class="fa-solid fa-house text-lg"></i>
                <span class="text-[10px] font-medium">Home</span>
            </div>
            <div class="flex flex-col items-center gap-1 text-indigo-600">
                <i class="fa-solid fa-chart-pie text-lg"></i>
                <span class="text-[10px] font-medium">Insight</span>
            </div>
            <div class="flex flex-col items-center gap-1 text-slate-400">
                <i class="fa-solid fa-shield-halved text-lg"></i>
                <span class="text-[10px] font-medium">Safety</span>
            </div>
            <div class="flex flex-col items-center gap-1 text-slate-400">
                <i class="fa-solid fa-gear text-lg"></i>
                <span class="text-[10px] font-medium">Settings</span>
            </div>
        </nav>
    </div>

    <script>
        // --- DATA DEFINITIONS ---
        
        // Plan A: Traffic (GB) - "Bandwidth Hog"
        const dataA = {
            chartData: [20, 30, 10, 5, 5, 90], // Video, Game, Social, Work, Edu, Download
            title: "Bandwidth Hogs üåä",
            badge: "Traffic View",
            bgClass: "from-indigo-600 to-purple-700",
            stats: [
                { label: "Download", val: "45 GB", width: "90%", color: "bg-pink-400" },
                { label: "Video", val: "30 GB", width: "60%", color: "bg-amber-400" },
                { label: "Game", val: "5 GB", width: "15%", color: "bg-cyan-400" }
            ]
        };

        // Plan B: Time (Hrs) - "Time Consumer"
        const dataB = {
            chartData: [30, 80, 50, 90, 20, 5], // Video, Game, Social, Work, Edu, Download
            title: "Time Consumers ‚è≥",
            badge: "Time View",
            bgClass: "from-emerald-600 to-teal-700",
            stats: [
                { label: "Work", val: "8.5 Hrs", width: "90%", color: "bg-emerald-300" },
                { label: "Game", val: "6.2 Hrs", width: "70%", color: "bg-lime-300" },
                { label: "Social", val: "4.0 Hrs", width: "45%", color: "bg-teal-200" }
            ]
        };

        let currentMode = 'A';
        let myRadarChart = null;

        // --- INIT CHART ---
        function initChart() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            myRadarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Video', 'Game', 'Social', 'Work', 'Edu', 'Download'],
                    datasets: [{
                        label: 'Usage',
                        data: dataA.chartData,
                        backgroundColor: 'rgba(255, 255, 255, 0.2)',
                        borderColor: 'rgba(255, 255, 255, 0.9)',
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#fff',
                        borderWidth: 2,
                        pointRadius: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(255, 255, 255, 0.1)' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            pointLabels: { color: 'rgba(255, 255, 255, 0.7)', font: { size: 9 } },
                            ticks: { display: false, maxTicksLimit: 3 },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    },
                    animation: { duration: 1000 }
                }
            });
        }

        // --- SWITCH LOGIC ---
        function switchMode(mode) {
            currentMode = mode;
            const data = mode === 'A' ? dataA : dataB;
            const section1 = document.getElementById('section1');
            const btnA = document.getElementById('btnA');
            const btnB = document.getElementById('btnB');

            // 1. Update Buttons State
            if(mode === 'A') {
                btnA.className = "w-full py-2 px-4 rounded-lg text-sm font-bold transition-all bg-indigo-600 text-white shadow-md";
                btnB.className = "w-full py-2 px-4 rounded-lg text-sm font-bold transition-all bg-white text-slate-600 border border-slate-200 hover:bg-slate-50";
            } else {
                btnB.className = "w-full py-2 px-4 rounded-lg text-sm font-bold transition-all bg-teal-600 text-white shadow-md";
                btnA.className = "w-full py-2 px-4 rounded-lg text-sm font-bold transition-all bg-white text-slate-600 border border-slate-200 hover:bg-slate-50";
            }

            // 2. Update Background Gradient
            section1.className = `relative rounded-3xl p-5 text-white shadow-lg overflow-hidden transition-all duration-500 bg-gradient-to-br ${data.bgClass}`;

            // 3. Update Text Content
            document.getElementById('vibeTitle').innerText = data.title;
            document.getElementById('vibeBadge').innerText = data.badge;

            // 4. Update Stats Bars
            data.stats.forEach((stat, index) => {
                const i = index + 1;
                document.getElementById(`label${i}`).innerText = stat.label;
                document.getElementById(`val${i}`).innerText = stat.val;
                
                const bar = document.getElementById(`bar${i}`);
                bar.style.width = stat.width;
                // Remove old color classes and add new one
                bar.className = `h-full rounded-full transition-all duration-700 ${stat.color}`;
            });

            // 5. Update Chart
            myRadarChart.data.datasets[0].data = data.chartData;
            myRadarChart.update();
        }

        // --- BADGE POPUP ---
        function showBadgeDetails(title, user, desc, streak) {
            const streakMsg = streak > 1 ? `\nüî• ${user} has held this title for ${streak} days!` : '';
            alert(`üèÜ Achievement Unlocked: ${title}\n\nWinner: ${user}\nReason: ${desc}${streakMsg}`);
        }

        // --- FAMILY TIME TOGGLE ---
        function toggleDetox(btn) {
            const icon = btn.querySelector('i');
            const span = btn.querySelector('span');
            
            if (span.innerText === "Pause Internet") {
                btn.classList.replace('bg-slate-800', 'bg-red-500');
                btn.classList.replace('hover:bg-slate-700', 'hover:bg-red-400');
                span.innerText = "Resume Internet";
                icon.className = "fa-solid fa-play";
                alert("‚è∏Ô∏è Internet paused for selected devices. Enjoy family time!");
            } else {
                btn.classList.replace('bg-red-500', 'bg-slate-800');
                btn.classList.replace('hover:bg-red-400', 'hover:bg-slate-700');
                span.innerText = "Pause Internet";
                icon.className = "fa-solid fa-pause";
                alert("‚ñ∂Ô∏è Internet resumed.");
            }
        }

        // Initialize
        window.onload = initChart;

    </script>
</body>
</html>
